
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
[<center><h1>
        Java千百问_07JVM架构（010）_什么是老生代的标记算法            
        </h1></center>, <div class="article_content tracking-ad" data-dsm="post" data-mod="popu_307" id="article_content">
<div class="markdown_views"><p><a href="http://blog.csdn.net/ooppookid/article/category/6134850">点击进入_更多_Java千百问</a></p>
<h3 id="1什么是老生代的标记算法">1、什么是老生代的标记算法</h3>
<p>了解堆内存看这里：<a href="http://blog.csdn.net/ooppookid/article/details/51477147">java堆内存是什么样的</a> <br>
了解java垃圾回收看这里：<a href="http://blog.csdn.net/ooppookid/article/details/51523486">java垃圾回收机制是什么</a> <br>
所谓<font color="#ff0000">标记算法（Mark）</font>，分为多种，最简单直观的即<font color="#ff0000">标记-清除算法（Mark-Sweep）</font>。即将认定为可回收的内存做一个<font color="#ff0000">标记</font>，然后统一将被标记的清理，算法图解如下：</br></br></p>
<p><img alt="这里写图片描述" src="http://img.blog.csdn.net/20160528104612392" title=""/></p>
<p><font color="#33ccff">算法过程：</font> <br>
1. 先判定对象是否可回收，对其<font color="#ff0000">标记</font>。 <br>
2. <font color="#ff0000">统一回收</font>（简单地删除对垃圾对象的内存引用）。</br></br></p>
<p>标记-清除算法十分<font color="#ff0000">简单直观</font>，且<font color="#ff0000">容易实现和理解</font>。但是有一个很严重的问题，<font color="#ff0000">内存空间碎片化</font>，这显然是不能接收的，所以Java对老生代的垃圾处理采用的是<font color="#ff0000">标记-紧凑算法</font>。</p>
<h3 id="2什么是老生代的标记-紧凑算法">2、什么是老生代的标记-紧凑算法</h3>
<p>所谓<font color="#ff0000">标记-紧凑算法（Mark-Compact）</font>，即在标记-清除算法的基础上，增加了<font color="#ff0000">碎片整理</font>这一步，算法图解如下：</p>
<p><img alt="这里写图片描述" src="http://img.blog.csdn.net/20160528104754397" title=""/></p>
<p><font color="#33ccff">算法过程：</font></p>
<ol>
<li>标记：<font color="#ff0000">标记</font>可回收对象（垃圾对象）和存活对象。</li>
<li>紧凑（也称“整理”）：将所有存活对象向<font color="#ff0000">内存开始部位</font>移动，称为<font color="#ff0000">内存紧凑</font>（相当于碎片整理）。</li>
<li><font color="#ff0000">清理剩余内存空间</font>。</li>
</ol>
<p>可以看出，内存的碎片整理虽然会损失一定的效率，但是大大减少了内存的碎片化程度，更<font color="#ff0000">有利于内存的使用和分配</font>。</p></div>
<script type="text/javascript">
            $(function () {
                $('pre.prettyprint code').each(function () {
                    var lines = $(this).text().split('\n').length;
                    var $numbering = $('<ul/>').addClass('pre-numbering').hide();
                    $(this).addClass('has-numbering').parent().append($numbering);
                    for (i = 1; i <= lines; i++) {
                        $numbering.append($('<li/>').text(i));
                    };
                    $numbering.fadeIn(1700);
                });
            });
        </script>
</div>]
</body>
</html>
